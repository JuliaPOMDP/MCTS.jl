<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>MCTS · MCTS.jl</title><meta name="title" content="MCTS · MCTS.jl"/><meta property="og:title" content="MCTS · MCTS.jl"/><meta property="twitter:title" content="MCTS · MCTS.jl"/><meta name="description" content="Documentation for MCTS.jl."/><meta property="og:description" content="Documentation for MCTS.jl."/><meta property="twitter:description" content="Documentation for MCTS.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>MCTS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>MCTS</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Usage"><span>Usage</span></a></li><li><a class="tocitem" href="#Solver-Variants"><span>Solver Variants</span></a></li><li><a class="tocitem" href="#Visualization"><span>Visualization</span></a></li><li><a class="tocitem" href="#Incorporating-Additional-Prior-Knowledge"><span>Incorporating Additional Prior Knowledge</span></a></li></ul></li><li><a class="tocitem" href="vanilla/">Vanilla</a></li><li><a class="tocitem" href="dpw/">Double Progressive Widening</a></li><li><a class="tocitem" href="belief_mcts/">Belief MCTS</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>MCTS</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>MCTS</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaPOMDP/MCTS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaPOMDP/MCTS.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="MCTS"><a class="docs-heading-anchor" href="#MCTS">MCTS</a><a id="MCTS-1"></a><a class="docs-heading-anchor-permalink" href="#MCTS" title="Permalink"></a></h1><p>This package implements the Monte-Carlo Tree Search algorithm in Julia for solving Markov decision processes (MDPs). The user should define the problem according to the API in <a href="https://github.com/sisl/POMDPs.jl">POMDPs.jl</a>. Examples of problem definitions can be found in <a href="https://github.com/sisl/POMDPModels.jl">POMDPModels.jl</a>. For an extensive tutorial, see <a href="http://nbviewer.ipython.org/github/sisl/POMDPs.jl/blob/master/examples/GridWorld.ipynb">this</a> notebook.</p><p>Special thanks to Jon Cox for writing the original version of this code.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>After installing <a href="https://github.com/sisl/POMDPs.jl">POMDPs.jl</a>, start Julia and run the following command:</p><pre><code class="language-julia hljs">using POMDPs
POMDPs.add(&quot;MCTS&quot;)</code></pre><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><p>Problems should be defined using the <a href="https://juliapomdp.github.io/POMDPs.jl/stable/def_pomdp/#Using-a-single-generative-function-instead-of-separate-T,-Z,-and-R">POMDPs.jl generative interface</a>.</p><p>To see the methods that you need to implement to use MCTS with your MDP (assume you&#39;re defining an MDP of type <code>MyMDP</code> with states represented by integers and 3 possible integer actions), run</p><pre><code class="language-julia hljs">using POMDPs
using MCTS

struct MyMDP &lt;: MDP{Int,Int} end
POMDPs.actions(::MyMDP) = [1,2,3]

@requirements_info MCTSSolver() MyMDP() 1</code></pre><p>(the <code>1</code> is any valid state). This should output something like</p><pre><code class="nohighlight hljs">INFO: POMDPs.jl requirements for action(::AbstractMCTSPlanner, ::Any) and dependencies. ([✔] = implemented correctly; [X] = missing)

For action(::AbstractMCTSPlanner, ::Any):
  [No additional requirements]
For simulate(::AbstractMCTSPlanner, ::Any, ::Int64) (in action(::AbstractMCTSPlanner, ::Any)):
  [✔] discount(::MyMDP)
  [✔] isterminal(::MyMDP, ::Int64)
  [X] gen(::MyMDP, ::Int64, ::Int64, ::MersenneTwister)
For insert_node!(::AbstractMCTSPlanner, ::Any) (in simulate(::AbstractMCTSPlanner, ::Any, ::Int64)):
  [✔] actions(::MyMDP, ::Int64)
  [✔] iterator(::Tuple)
For estimate_value(::SolvedRolloutEstimator, ::MDP, ::Any, ::Int64) (in simulate(::AbstractMCTSPlanner, ::Any, ::Int64)):
  [No additional requirements]
For rollout(::SolvedRolloutEstimator, ::MDP, ::Any, ::Int64) (in estimate_value(::SolvedRolloutEstimator, ::MDP, ::Any, ::Int64)):
  [No additional requirements]
For simulate(::RolloutSimulator, ::MDP, ::Policy, ::Any) (in rollout(::SolvedRolloutEstimator, ::MDP, ::Any, ::Int64)):
  [✔] action(::RandomPolicy, ::Int64)</code></pre><p>indicating that the generative interface still needs to be implemented for <code>MyMDP</code> to be used with MCTS. See the <a href="https://juliapomdp.github.io/POMDPs.jl/stable/def_pomdp/#Using-a-single-generative-function-instead-of-separate-T,-Z,-and-R">geneartive interface documentation</a> for further details.</p><p>Note: MDPs that implement the <a href="https://juliapomdp.github.io/POMDPs.jl/stable/def_pomdp/">POMDPs.jl explicit interface</a> can also be used with MCTS since the implementation of the explicit interface automatically defines the functions in the generative interface.</p><p>Once the above functions are defined, the solver can be called with the following syntax:</p><pre><code class="language-julia hljs">using MCTS

mdp = MyMDP() # initializes the MDP
solver = MCTSSolver(n_iterations=50, depth=20, exploration_constant=5.0) # initializes the Solver type
planner = solve(solver, mdp) # initializes the planner</code></pre><p>By default, the solver will use a random policy for rollouts. If you want to pass in a custom rollout policy you can run:</p><pre><code class="language-julia hljs">rollout_policy = MyCustomPolicy() # of type Policy, and has method action(rollout_policy::MyCustomPolicy, s::State)
solver = MCTSSolver(estimate_value=RolloutEstimator(rollout_policy)) # default solver parameters will be used n_iterations=100, depth=10, exploration_constant=1.0 = solve(solver, mdp)</code></pre><p>Since Monte-Carlo Tree Search is an online method, the solve function simply specifies the mdp model to the solver (which is embedded in the policy object). (Note that an MCTSPlanner can also be constructed directly without calling <code>solve()</code>.) The computation is done during calls to the action function. To extract the policy for a given state, simply call the action function:</p><pre><code class="language-julia hljs">s = rand(states(mdp)) # this can be any valid state
a = action(planner, s) # returns the action for state s</code></pre><h2 id="Solver-Variants"><a class="docs-heading-anchor" href="#Solver-Variants">Solver Variants</a><a id="Solver-Variants-1"></a><a class="docs-heading-anchor-permalink" href="#Solver-Variants" title="Permalink"></a></h2><p>There are currently two variants of the MCTS solver along with a Belief MCTS solver that can be used with POMDPs. They are documented in detail in the following sections:</p><ul><li><a href="vanilla/#Vanilla">Vanilla</a></li><li><a href="dpw/#Double-Progressive-Widening">Double Progressive Widening</a></li><li><a href="belief_mcts/#Belief-MCTS">Belief MCTS</a></li></ul><h2 id="Visualization"><a class="docs-heading-anchor" href="#Visualization">Visualization</a><a id="Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization" title="Permalink"></a></h2><p>An example of visualization of the search tree in a jupyter notebook is <a href="https://nbviewer.jupyter.org/github/JuliaPOMDP/MCTS.jl/blob/master/notebooks/Test_Visualization.ipynb">here</a> (or <a href="https://github.com/JuliaPOMDP/MCTS.jl/blob/master/notebooks/Test_Visualization.ipynb">here</a> is the version on github that will not display quite right but will still show you how it&#39;s done).</p><p>To display the tree in a Google Chrome window, run <code>using D3Trees; inchrome(D3Tree(policy, state))</code>.</p><h2 id="Incorporating-Additional-Prior-Knowledge"><a class="docs-heading-anchor" href="#Incorporating-Additional-Prior-Knowledge">Incorporating Additional Prior Knowledge</a><a id="Incorporating-Additional-Prior-Knowledge-1"></a><a class="docs-heading-anchor-permalink" href="#Incorporating-Additional-Prior-Knowledge" title="Permalink"></a></h2><p>An example of incorporating additional prior domain knowledge (to initialize Q and N) and to get an estimate of the value is <a href="https://github.com/JuliaPOMDP/MCTS.jl/blob/master/notebooks/Domain_Knowledge_Example.ipynb">here</a>.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="vanilla/">Vanilla »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Tuesday 24 October 2023 00:56">Tuesday 24 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
